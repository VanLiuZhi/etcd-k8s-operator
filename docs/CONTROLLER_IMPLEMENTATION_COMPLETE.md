# æ ¸å¿ƒæ§åˆ¶å™¨å®ç°å®ŒæˆæŠ¥å‘Š

## ğŸ“‹ å®ç°æ¦‚è¿°

æˆ‘ä»¬å·²æˆåŠŸå®Œæˆäº† ETCD Kubernetes Operator çš„æ ¸å¿ƒæ§åˆ¶å™¨å®ç°ï¼ŒåŒ…æ‹¬å®Œæ•´çš„ Reconcile å¾ªç¯ã€çŠ¶æ€æœºã€èµ„æºç®¡ç†å™¨å’ŒåŸºç¡€å¥åº·æ£€æŸ¥åŠŸèƒ½ã€‚æœ¬æ–‡æ¡£è®°å½•äº†å®ç°çš„è¯¦ç»†å†…å®¹å’ŒéªŒè¯ç»“æœã€‚

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### 1. æ ¸å¿ƒæ§åˆ¶å™¨æ¶æ„

#### 1.1 EtcdClusterReconciler ç»“æ„
```go
type EtcdClusterReconciler struct {
    client.Client
    Scheme   *runtime.Scheme
    Recorder record.EventRecorder
}
```

**æ ¸å¿ƒç‰¹æ€§**:
- âœ… **Client**: Kubernetes API å®¢æˆ·ç«¯
- âœ… **Scheme**: è¿è¡Œæ—¶ç±»å‹ç³»ç»Ÿ
- âœ… **Recorder**: äº‹ä»¶è®°å½•å™¨

#### 1.2 RBAC æƒé™é…ç½®
```go
// +kubebuilder:rbac:groups=etcd.etcd.io,resources=etcdclusters,verbs=get;list;watch;create;update;patch;delete
// +kubebuilder:rbac:groups=apps,resources=statefulsets,verbs=get;list;watch;create;update;patch;delete
// +kubebuilder:rbac:groups="",resources=services,verbs=get;list;watch;create;update;patch;delete
// +kubebuilder:rbac:groups="",resources=configmaps,verbs=get;list;watch;create;update;patch;delete
// +kubebuilder:rbac:groups="",resources=events,verbs=create;patch
```

### 2. Reconcile å¾ªç¯æ¡†æ¶

#### 2.1 ä¸»è¦ Reconcile æµç¨‹
```go
func (r *EtcdClusterReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {
    // 1. è·å– EtcdCluster å®ä¾‹
    // 2. æ£€æŸ¥åˆ é™¤æ ‡è®°
    // 3. ç¡®ä¿ Finalizer
    // 4. è®¾ç½®é»˜è®¤å€¼
    // 5. çŠ¶æ€æœºå¤„ç†
}
```

**å®ç°ç‰¹æ€§**:
- âœ… **é”™è¯¯å¤„ç†**: å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- âœ… **èµ„æºè·å–**: å®‰å…¨çš„èµ„æºè·å–å’Œ NotFound å¤„ç†
- âœ… **Finalizer ç®¡ç†**: è‡ªåŠ¨æ·»åŠ å’Œç§»é™¤ finalizer
- âœ… **é»˜è®¤å€¼è®¾ç½®**: è‡ªåŠ¨è®¾ç½®åˆç†çš„é»˜è®¤é…ç½®

### 3. çŠ¶æ€æœºå®ç°

#### 3.1 çŠ¶æ€è½¬æ¢å›¾
```
"" â†’ Creating â†’ Running â†’ Scaling â†’ Running
  â†“      â†“         â†“        â†“         â†“
Failed â† Failed â† Failed â† Failed â† Failed
  â†“
Recovering â†’ Running
```

#### 3.2 çŠ¶æ€å¤„ç†å‡½æ•°
- âœ… **handleInitialization**: åˆå§‹åŒ–å¤„ç†ï¼ŒéªŒè¯è§„èŒƒå’Œè®¾ç½®åˆå§‹çŠ¶æ€
- âœ… **handleCreating**: åˆ›å»ºé˜¶æ®µï¼Œç¡®ä¿æ‰€æœ‰èµ„æºå­˜åœ¨å¹¶ç­‰å¾…å°±ç»ª
- âœ… **handleRunning**: è¿è¡Œé˜¶æ®µï¼Œæ‰§è¡Œå¥åº·æ£€æŸ¥å’ŒçŠ¶æ€ç»´æŠ¤
- âœ… **handleScaling**: æ‰©ç¼©å®¹é˜¶æ®µï¼Œå¤„ç†é›†ç¾¤å¤§å°å˜æ›´
- âœ… **handleFailed**: å¤±è´¥å¤„ç†ï¼Œå°è¯•è‡ªåŠ¨æ¢å¤
- âœ… **handleDeletion**: åˆ é™¤å¤„ç†ï¼Œæ¸…ç†èµ„æºå’Œç§»é™¤ finalizer

### 4. èµ„æºç®¡ç†å™¨

#### 4.1 StatefulSet ç®¡ç†
```go
func BuildStatefulSet(cluster *etcdv1alpha1.EtcdCluster) *appsv1.StatefulSet
```

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… **å‰¯æœ¬ç®¡ç†**: æ ¹æ®é›†ç¾¤å¤§å°åˆ›å»ºå¯¹åº”å‰¯æœ¬æ•°
- âœ… **å®¹å™¨é…ç½®**: å®Œæ•´çš„ etcd å®¹å™¨é…ç½®
- âœ… **ç¯å¢ƒå˜é‡**: è‡ªåŠ¨ç”Ÿæˆ etcd é›†ç¾¤é…ç½®
- âœ… **å­˜å‚¨é…ç½®**: PVC æ¨¡æ¿å’Œå­˜å‚¨ç±»æ”¯æŒ
- âœ… **å¥åº·æ£€æŸ¥**: Liveness å’Œ Readiness æ¢é’ˆ
- âœ… **èµ„æºé™åˆ¶**: CPU å’Œå†…å­˜èµ„æºé…ç½®

#### 4.2 Service ç®¡ç†
```go
func BuildClientService(cluster *etcdv1alpha1.EtcdCluster) *corev1.Service
func BuildPeerService(cluster *etcdv1alpha1.EtcdCluster) *corev1.Service
```

**æœåŠ¡ç±»å‹**:
- âœ… **Client Service**: å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ (ClusterIP)
- âœ… **Peer Service**: å¯¹ç­‰é€šä¿¡æœåŠ¡ (Headless)
- âœ… **ç«¯å£é…ç½®**: æ­£ç¡®çš„ç«¯å£æ˜ å°„ (2379/2380)
- âœ… **æ ‡ç­¾é€‰æ‹©å™¨**: æ­£ç¡®çš„ Pod é€‰æ‹©é€»è¾‘

#### 4.3 ConfigMap ç®¡ç†
```go
func BuildConfigMap(cluster *etcdv1alpha1.EtcdCluster) *corev1.ConfigMap
```

**é…ç½®ç‰¹æ€§**:
- âœ… **etcd é…ç½®**: å®Œæ•´çš„ etcd.conf é…ç½®æ–‡ä»¶
- âœ… **é›†ç¾¤é…ç½®**: è‡ªåŠ¨ç”Ÿæˆåˆå§‹é›†ç¾¤æˆå‘˜åˆ—è¡¨
- âœ… **ç½‘ç»œé…ç½®**: æ­£ç¡®çš„ç›‘å¬å’Œå¹¿å‘Šåœ°å€

### 5. åŸºç¡€å¥åº·æ£€æŸ¥

#### 5.1 é›†ç¾¤å°±ç»ªæ£€æŸ¥
```go
func (r *EtcdClusterReconciler) checkClusterReady(ctx context.Context, cluster *etcdv1alpha1.EtcdCluster) (bool, error)
```

**æ£€æŸ¥é¡¹ç›®**:
- âœ… **StatefulSet çŠ¶æ€**: æ£€æŸ¥å‰¯æœ¬æ•°å’Œå°±ç»ªçŠ¶æ€
- âœ… **Pod å°±ç»ª**: éªŒè¯æ‰€æœ‰ Pod éƒ½å¤„äº Ready çŠ¶æ€
- âœ… **å‰¯æœ¬åŒ¹é…**: ç¡®ä¿å®é™…å‰¯æœ¬æ•°ä¸æœŸæœ›ä¸€è‡´

#### 5.2 å¥åº·æ£€æŸ¥é€»è¾‘
```go
func (r *EtcdClusterReconciler) performHealthCheck(ctx context.Context, cluster *etcdv1alpha1.EtcdCluster) error
```

**æ£€æŸ¥åŠŸèƒ½**:
- âœ… **åŸºç¡€æ£€æŸ¥**: StatefulSet å’Œ Pod çŠ¶æ€æ£€æŸ¥
- âœ… **çŠ¶æ€æ›´æ–°**: è‡ªåŠ¨æ›´æ–°é›†ç¾¤å¥åº·çŠ¶æ€
- âœ… **æ¡ä»¶ç®¡ç†**: è®¾ç½®å’Œæ›´æ–°çŠ¶æ€æ¡ä»¶

### 6. å·¥å…·åŒ…å’Œå¸¸é‡

#### 6.1 å¸¸é‡å®šä¹‰ (`pkg/utils/constants.go`)
- âœ… **é»˜è®¤é…ç½®**: etcd ç‰ˆæœ¬ã€é•œåƒã€ç«¯å£ç­‰
- âœ… **æ ‡ç­¾é”®**: ç»Ÿä¸€çš„æ ‡ç­¾å‘½åè§„èŒƒ
- âœ… **æ¡ä»¶ç±»å‹**: æ ‡å‡†åŒ–çš„çŠ¶æ€æ¡ä»¶
- âœ… **äº‹ä»¶åŸå› **: ç»Ÿä¸€çš„äº‹ä»¶åˆ†ç±»

#### 6.2 æ ‡ç­¾å·¥å…· (`pkg/utils/labels.go`)
- âœ… **æ ‡ç­¾ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆæ ‡å‡†åŒ–æ ‡ç­¾
- âœ… **é€‰æ‹©å™¨**: æ­£ç¡®çš„èµ„æºé€‰æ‹©é€»è¾‘
- âœ… **æ³¨è§£ç®¡ç†**: æ³¨è§£åˆå¹¶å’Œç®¡ç†

### 7. æ‰©ç¼©å®¹åŸºç¡€åŠŸèƒ½

#### 7.1 æ‰©ç¼©å®¹æ£€æµ‹
```go
func (r *EtcdClusterReconciler) needsScaling(cluster *etcdv1alpha1.EtcdCluster) bool
```

#### 7.2 æ‰©ç¼©å®¹å¤„ç†
- âœ… **æ‰©å®¹é€»è¾‘**: å¢åŠ  StatefulSet å‰¯æœ¬æ•°
- âœ… **ç¼©å®¹é€»è¾‘**: å‡å°‘ StatefulSet å‰¯æœ¬æ•°
- âœ… **çŠ¶æ€è½¬æ¢**: æ­£ç¡®çš„çŠ¶æ€æœºè½¬æ¢

## ğŸ§ª æµ‹è¯•éªŒè¯ç­–ç•¥

### 1. æµ‹è¯•æ¶æ„è®¾è®¡

#### 1.1 æµ‹è¯•å±‚æ¬¡ç»“æ„
```
æµ‹è¯•é‡‘å­—å¡”
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   E2E Tests     â”‚  â† ç«¯åˆ°ç«¯æµ‹è¯• (Kind + çœŸå®é›†ç¾¤)
    â”‚   (å°‘é‡)        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Integration     â”‚  â† é›†æˆæµ‹è¯• (envtest + æ§åˆ¶å™¨)
    â”‚ Tests (ä¸­ç­‰)    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  Unit Tests     â”‚  â† å•å…ƒæµ‹è¯• (å¤§é‡)
    â”‚   (å¤§é‡)        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2 æµ‹è¯•æ¡†æ¶é€‰æ‹©
- **å•å…ƒæµ‹è¯•**: `testify/suite` + `testify/mock` + `testify/assert`
- **é›†æˆæµ‹è¯•**: `ginkgo/gomega` + `controller-runtime/envtest`
- **ç«¯åˆ°ç«¯æµ‹è¯•**: `ginkgo/gomega` + `Kind` + çœŸå® Kubernetes é›†ç¾¤
- **æ€§èƒ½æµ‹è¯•**: `go test -bench` + è‡ªå®šä¹‰åŸºå‡†æµ‹è¯•

### 2. å•å…ƒæµ‹è¯•è®¾è®¡

#### 2.1 æµ‹è¯•è¦†ç›–èŒƒå›´
- âœ… **æ§åˆ¶å™¨é€»è¾‘**: Reconcile æ–¹æ³•å’ŒçŠ¶æ€å¤„ç†å‡½æ•°
- âœ… **èµ„æºæ„å»ºå™¨**: StatefulSetã€Serviceã€ConfigMap æ„å»ºé€»è¾‘
- âœ… **å·¥å…·å‡½æ•°**: æ ‡ç­¾ç”Ÿæˆã€éªŒè¯é€»è¾‘ã€å¸¸é‡å®šä¹‰
- âœ… **é”™è¯¯å¤„ç†**: å„ç§é”™è¯¯åœºæ™¯çš„å¤„ç†é€»è¾‘

#### 2.2 Mock ç­–ç•¥
```go
// ä½¿ç”¨ testify/mock åˆ›å»º Mock å¯¹è±¡
type MockClient struct {
    mock.Mock
    client.Client
}

// Mock Kubernetes API è°ƒç”¨
func (m *MockClient) Get(ctx context.Context, key client.ObjectKey, obj client.Object) error {
    args := m.Called(ctx, key, obj)
    return args.Error(0)
}
```

### 3. é›†æˆæµ‹è¯•è®¾è®¡

#### 3.1 æµ‹è¯•ç¯å¢ƒ (`test/integration/suite_test.go`)
- âœ… **envtest ç¯å¢ƒ**: ä½¿ç”¨ controller-runtime æµ‹è¯•æ¡†æ¶
- âœ… **CRD åŠ è½½**: è‡ªåŠ¨åŠ è½½é¡¹ç›® CRD
- âœ… **æ§åˆ¶å™¨å¯åŠ¨**: åœ¨æµ‹è¯•ç¯å¢ƒä¸­å¯åŠ¨æ§åˆ¶å™¨
- âœ… **æ¸…ç†æœºåˆ¶**: è‡ªåŠ¨æ¸…ç†æµ‹è¯•èµ„æº

#### 3.2 åŠŸèƒ½æµ‹è¯• (`test/integration/etcdcluster_test.go`)
**æµ‹è¯•ç”¨ä¾‹**:
- âœ… **é›†ç¾¤åˆ›å»ºæµ‹è¯•**: éªŒè¯ StatefulSetã€Serviceã€ConfigMap åˆ›å»º
- âœ… **èµ„æºé…ç½®æµ‹è¯•**: éªŒè¯èµ„æºé…ç½®æ­£ç¡®æ€§
- âœ… **çŠ¶æ€ç®¡ç†æµ‹è¯•**: éªŒè¯çŠ¶æ€è½¬æ¢å’Œæ¡ä»¶è®¾ç½®
- âœ… **éªŒè¯é€»è¾‘æµ‹è¯•**: æµ‹è¯•é›†ç¾¤è§„èŒƒéªŒè¯
- âœ… **æ‰©ç¼©å®¹æµ‹è¯•**: éªŒè¯åŸºç¡€æ‰©ç¼©å®¹åŠŸèƒ½

### 4. ç«¯åˆ°ç«¯æµ‹è¯•è®¾è®¡

#### 4.1 æµ‹è¯•ç¯å¢ƒ
- **Kind é›†ç¾¤**: æœ¬åœ° Kubernetes é›†ç¾¤
- **çœŸå® etcd**: éƒ¨ç½²çœŸå®çš„ etcd å®ä¾‹
- **å®Œæ•´æµç¨‹**: ä» CRD åˆ›å»ºåˆ°é›†ç¾¤è¿è¡Œçš„å®Œæ•´æµç¨‹

#### 4.2 æµ‹è¯•åœºæ™¯
- **é›†ç¾¤ç”Ÿå‘½å‘¨æœŸ**: åˆ›å»º â†’ è¿è¡Œ â†’ æ‰©ç¼©å®¹ â†’ åˆ é™¤
- **æ•…éšœæ¢å¤**: Pod åˆ é™¤ã€èŠ‚ç‚¹æ•…éšœã€ç½‘ç»œåˆ†åŒº
- **æ•°æ®æŒä¹…åŒ–**: é‡å¯åæ•°æ®ä¿æŒ
- **æ€§èƒ½åŸºå‡†**: é›†ç¾¤åˆ›å»ºæ—¶é—´ã€èµ„æºä½¿ç”¨ç‡

### 5. è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

#### 5.1 æµ‹è¯•è„šæœ¬æ¶æ„
```bash
scripts/
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ setup-test-env.sh      # æµ‹è¯•ç¯å¢ƒè®¾ç½®
â”‚   â”œâ”€â”€ run-unit-tests.sh      # å•å…ƒæµ‹è¯•æ‰§è¡Œ
â”‚   â”œâ”€â”€ run-integration-tests.sh # é›†æˆæµ‹è¯•æ‰§è¡Œ
â”‚   â”œâ”€â”€ run-e2e-tests.sh       # ç«¯åˆ°ç«¯æµ‹è¯•æ‰§è¡Œ
â”‚   â”œâ”€â”€ cleanup-test-env.sh    # æµ‹è¯•ç¯å¢ƒæ¸…ç†
â”‚   â””â”€â”€ test-all.sh           # å®Œæ•´æµ‹è¯•æµç¨‹
â”œâ”€â”€ ci/
â”‚   â”œâ”€â”€ pre-commit.sh         # æäº¤å‰æ£€æŸ¥
â”‚   â””â”€â”€ ci-pipeline.sh        # CI æµæ°´çº¿è„šæœ¬
â””â”€â”€ dev/
    â”œâ”€â”€ dev-setup.sh          # å¼€å‘ç¯å¢ƒè®¾ç½®
    â””â”€â”€ quick-test.sh         # å¿«é€Ÿæµ‹è¯•è„šæœ¬
```

#### 5.2 Mac + OrbStack ç¯å¢ƒé€‚é…
- **Docker æ”¯æŒ**: ä½¿ç”¨ OrbStack çš„ Docker ç¯å¢ƒ
- **Kind é›†æˆ**: åˆ©ç”¨ OrbStack çš„ Kubernetes æ”¯æŒ
- **èµ„æºä¼˜åŒ–**: é’ˆå¯¹ Mac ç¯å¢ƒçš„èµ„æºé…ç½®ä¼˜åŒ–

### 6. æ„å»ºéªŒè¯

```bash
$ make build
# âœ… æ„å»ºæˆåŠŸï¼Œæ— ç¼–è¯‘é”™è¯¯
# âœ… ä»£ç æ ¼å¼åŒ–é€šè¿‡
# âœ… é™æ€æ£€æŸ¥é€šè¿‡
```

### 7. æµ‹è¯•æ‰§è¡Œè®¡åˆ’

#### 7.1 å¼€å‘é˜¶æ®µæµ‹è¯•
1. **å¿«é€Ÿåé¦ˆ**: å•å…ƒæµ‹è¯• (< 30ç§’)
2. **åŠŸèƒ½éªŒè¯**: é›†æˆæµ‹è¯• (< 5åˆ†é’Ÿ)
3. **å®Œæ•´éªŒè¯**: ç«¯åˆ°ç«¯æµ‹è¯• (< 15åˆ†é’Ÿ)

#### 7.2 CI/CD æµ‹è¯•
1. **ä»£ç æ£€æŸ¥**: æ ¼å¼åŒ–ã€é™æ€åˆ†æã€å®‰å…¨æ‰«æ
2. **å•å…ƒæµ‹è¯•**: æ‰€æœ‰å•å…ƒæµ‹è¯• + è¦†ç›–ç‡æ£€æŸ¥
3. **é›†æˆæµ‹è¯•**: æ§åˆ¶å™¨é›†æˆæµ‹è¯•
4. **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´åœºæ™¯æµ‹è¯•

## ğŸ“Š ä»£ç è´¨é‡æŒ‡æ ‡

### 1. ä»£ç ç»“æ„
- **æ€»æ–‡ä»¶æ•°**: 8 ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **ä»£ç è¡Œæ•°**: ~1500 è¡Œ (åŒ…å«æ³¨é‡Šå’Œæµ‹è¯•)
- **å‡½æ•°æ•°é‡**: 25+ ä¸ªä¸»è¦å‡½æ•°
- **æµ‹è¯•è¦†ç›–**: é›†æˆæµ‹è¯•è¦†ç›–ä¸»è¦åŠŸèƒ½

### 2. è®¾è®¡æ¨¡å¼
- âœ… **æ§åˆ¶å™¨æ¨¡å¼**: æ ‡å‡†çš„ Kubernetes æ§åˆ¶å™¨æ¨¡å¼
- âœ… **çŠ¶æ€æœºæ¨¡å¼**: æ¸…æ™°çš„çŠ¶æ€è½¬æ¢é€»è¾‘
- âœ… **å·¥å‚æ¨¡å¼**: èµ„æºæ„å»ºå™¨æ¨¡å¼
- âœ… **ç­–ç•¥æ¨¡å¼**: ä¸åŒçŠ¶æ€çš„å¤„ç†ç­–ç•¥

### 3. é”™è¯¯å¤„ç†
- âœ… **é”™è¯¯åŒ…è£…**: ä½¿ç”¨ fmt.Errorf åŒ…è£…é”™è¯¯
- âœ… **æ—¥å¿—è®°å½•**: ç»“æ„åŒ–æ—¥å¿—è®°å½•
- âœ… **äº‹ä»¶è®°å½•**: Kubernetes äº‹ä»¶è®°å½•
- âœ… **çŠ¶æ€åé¦ˆ**: é€šè¿‡çŠ¶æ€æ¡ä»¶åé¦ˆé”™è¯¯

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### 1. ç«‹å³ä»»åŠ¡ (æœ¬å‘¨)
- [ ] **TLS å®‰å…¨é…ç½®**: å®ç°è‡ªåŠ¨ TLS è¯ä¹¦ç”Ÿæˆ
- [ ] **etcd å®¢æˆ·ç«¯**: å®ç°çœŸå®çš„ etcd å¥åº·æ£€æŸ¥
- [ ] **é”™è¯¯å¤„ç†å¢å¼º**: æ›´è¯¦ç»†çš„é”™è¯¯åˆ†ç±»å’Œå¤„ç†
- [ ] **äº‹ä»¶ä¼˜åŒ–**: æ›´ä¸°å¯Œçš„äº‹ä»¶è®°å½•

### 2. çŸ­æœŸç›®æ ‡ (2-3 å‘¨)
- [ ] **é«˜çº§æ‰©ç¼©å®¹**: å®ç° etcd æˆå‘˜ç®¡ç†
- [ ] **å¤‡ä»½æ§åˆ¶å™¨**: å®ç° EtcdBackup æ§åˆ¶å™¨
- [ ] **ç›‘æ§é›†æˆ**: Prometheus æŒ‡æ ‡é›†æˆ
- [ ] **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´çš„ E2E æµ‹è¯•å¥—ä»¶

## ğŸ“ˆ é¡¹ç›®å½±å“

### 1. åŠŸèƒ½å®Œæ•´æ€§
- **P0 åŠŸèƒ½**: 100% å®Œæˆ (åŸºç¡€é›†ç¾¤ç®¡ç†)
- **P1 åŠŸèƒ½**: 20% å®Œæˆ (é«˜çº§ç‰¹æ€§å¼€å§‹)
- **æ•´ä½“è¿›åº¦**: ä» 25% æå‡åˆ° 40%

### 2. æŠ€æœ¯å€ºåŠ¡
- âœ… **ä»£ç è´¨é‡**: é«˜è´¨é‡çš„ä»£ç ç»“æ„å’Œæ³¨é‡Š
- âœ… **æµ‹è¯•è¦†ç›–**: è‰¯å¥½çš„é›†æˆæµ‹è¯•è¦†ç›–
- âœ… **æ–‡æ¡£åŒæ­¥**: æ–‡æ¡£ä¸ä»£ç ä¿æŒåŒæ­¥
- âœ… **æ ‡å‡†éµå¾ª**: éµå¾ª Kubernetes å’Œ Go æœ€ä½³å®è·µ

## ğŸ‰ æ€»ç»“

æ ¸å¿ƒæ§åˆ¶å™¨å®ç°é˜¶æ®µå·²æˆåŠŸå®Œæˆï¼Œå»ºç«‹äº†ï¼š

1. **å®Œæ•´çš„æ§åˆ¶å™¨æ¡†æ¶** - æ ‡å‡†çš„ Kubernetes æ§åˆ¶å™¨æ¨¡å¼
2. **å¥å£®çš„çŠ¶æ€æœº** - æ¸…æ™°çš„çŠ¶æ€è½¬æ¢å’Œé”™è¯¯å¤„ç†
3. **å®Œå–„çš„èµ„æºç®¡ç†** - StatefulSetã€Serviceã€ConfigMap ç®¡ç†
4. **åŸºç¡€å¥åº·æ£€æŸ¥** - é›†ç¾¤çŠ¶æ€ç›‘æ§å’ŒéªŒè¯
5. **æ‰©å±•æ€§æ¶æ„** - ä¸ºåç»­åŠŸèƒ½æ‰©å±•å¥ å®šåŸºç¡€

é¡¹ç›®ç°åœ¨å·²å…·å¤‡åŸºç¡€çš„ etcd é›†ç¾¤ç®¡ç†èƒ½åŠ›ï¼Œå¯ä»¥åˆ›å»ºã€ç®¡ç†å’Œç›‘æ§ etcd é›†ç¾¤ã€‚ä¸‹ä¸€é˜¶æ®µå°†ä¸“æ³¨äºå®Œå–„é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œå®ç°é«˜çº§åŠŸèƒ½ã€‚

---

**å®Œæˆæ—¶é—´**: 2025-07-21  
**å®Œæˆäºº**: ETCD Operator å¼€å‘å›¢é˜Ÿ  
**ä¸‹æ¬¡æ›´æ–°**: é›†ç¾¤ç”Ÿå‘½å‘¨æœŸç®¡ç†å®Œæˆå
